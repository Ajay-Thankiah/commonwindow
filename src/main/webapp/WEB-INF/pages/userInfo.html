<!DOCTYPE HTML>
<html>
<head>
    <title>User Info</title>
</head>

<body>

		<div>
            <div>
                <form>
                    <div>
                        <label for="name">User Name*:</label>
                        <input type="text" id="name"/>
                    </div>
                    <div>
                        <label for="role">Role*:</label>
                        <input type="text" id="role"/>
                    </div>
                    <div>
                        <label for="password">Password*:</label>
                        <input type="text" id="password"/>
                    </div>
                    <button type="submit" id="btn_submit">Add New User</button>
                </form>
            </div>
        </div>

<script src="/jquery.js" type="application/javascript"></script>
<script type="application/javascript">
    $(document).ready(function () {
    	window.alert("Inside Doc!");
       $('#btn_submit').on("click",function (e) {
    	   window.alert("Inside Button");
           e.preventDefault();
           var name, role,password;
           name = $('#name').val();
           role = $('#role').val();
           password = $('#password').val();
           window.alert(name);
           if($.trim(name) === ""){
               alert("Name cannot be empty");
           }else if($.trim(role) === ""){
               alert("Role cannot be empty");
           }else if($.trim(password) === ""){
               alert("Password cannot be empty");
           }else {
               var data = {};
               data["name"] = name;
               data["role"] = role;
               data["password"] = password;
               $.ajax({
                   type: "POST",
                   contentType: "application/json",
                   url: "/saveuser",
                   data: JSON.stringify(data),
                   dataType: 'json',
                   timeout: 6000,
                   success: function (data) {
                       if (confirm("User with Id " + data + " Saved")){
                           window.location.reload();
                       }
                   }
               });
           }
       });
    });
</script>
</body>
</html>